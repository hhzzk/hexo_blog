title: "一个Top K问题"
date: 2015-04-10 20:10:20
tags:
  - 面试题
  - 排序
  - 算法
  - Top K
categories:
  - 原创
  - 算法系列
thumbnailImagePosition: left
thumbnailImage: http://7xrt06.com1.z0.glb.clouddn.com/16-3-13/35334370.jpg
---

有 20 个数组，每个数组有 500 个元素，并且是有序排列好的，要求在这 20*500 个数中找出排名前 500 的数。 
<!-- more -->
看题目是要找出排名靠前的500个数，很明显是top k问题，所以首先想到的就是用堆排序。

**做法**
先取一个数组的500个元素组成一个大根堆，然后依次遍历剩下的19个数组，每次取一个数与堆顶元素比较，如果小于堆顶元素则将堆顶元素删除，并且将此元素放入堆中，否则继续遍历。这样等所有数组全部遍历完之后，后序遍历大根堆既是排名靠前的500个元素了。

**改进做法**
题目中给的是20个数组，并且是排好序的，如果采用上面的做法，那么这一点就没有利用上。我们假设20个数组都是按升序排好的。
首先，一开始构造堆的时候我们并不选取某一个数组，而是取每个数组的前25个数字（500/20），因为数组是排好序的，这样的做法可以保证堆中的元素基本最小。然后在遍历20个数组的时候，从第26个元素开始遍历，并且如果当某一个元素大于堆顶元素的时候，就可以忽略这个数组的后面的元素了，直接遍历后面的数组即可。
***
(EOF)
